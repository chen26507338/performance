@layout("/common/_container.html"){
<div class="ibox float-e-margins">
    <div class="ibox-content">

        <div id="KinshipForm">

            <div class="row">
                <div class="col-sm-2">
                    <#button btnCss="info" name="增加" icon="fa-plus" clickFun="KinshipInfoDlg.addItem()"/>
                </div>
                <div class="col-sm-12" id="itemsArea">
                    <input type="hidden" id="itemSize" value="${list.~size}">
                    @for(listItem in list){
                    <form class="form-inline" name="KinshipItem" id="KinshipItem${listItemLP.index}">
                        <div class="form-group">
                            <label >关系</label>
                            <select name="relationship" class="form-control">
                                @for(item in constant.getDictsByName('亲属关系')){
                                <option value="${item.num}" ${parseInt(listItem.relationship) == parseInt(item.num) ? "selected"}>${item.name}</option>
                                @}
                            </select>
                        </div>
                        <div class="form-group">
                            <label>姓名</label>
                            <input class="form-control" type="text" name="name" value="${listItem.name}">
                        </div>
                        <div class="form-group">
                            <label>出生年月</label>
                            <input class="form-control" type="text" name="birthday" value="${listItem.birthday}">
                        </div>
                        <div class="form-group">
                            <label>年龄</label>
                            <input class="form-control" type="text" name="age" value="${listItem.age}">
                        </div>
                        <div class="form-group">
                            <label >政治面貌</label>
                            <select name="politicsStatus" class="form-control">
                                @for(item in constant.getDictsByName('政治面貌')){
                                <option value="${item.num}" ${parseInt(listItem.politicsStatus) == parseInt(item.num) ? "selected"}>${item.name}</option>
                                @}
                            </select>
                        </div>
                        <div class="form-group">
                            <label>工作单位及职务</label>
                            <input class="form-control" type="text" name="company" value="${listItem.company}">
                        </div>
                        <div class="form-group">
                            <#button btnCss="danger" name="删除" id="cancel" icon="fa-remove" clickFun="KinshipInfoDlg.deleteItem(event)"/>
                        </div>
                    </form>
                    @}
                </div>
            </div>

            <div class="row btn-group-m-t">
                <div class="col-sm-10">
                    <#button btnCss="info" name="提交" id="ensure" icon="fa-check" clickFun="KinshipInfoDlg.addApply()"/>
                    <#button btnCss="danger" name="取消" id="cancel" icon="fa-eraser" clickFun="KinshipInfoDlg.close()"/>
                </div>
            </div>

            <script type="text/template" id="itemTemplate">
                <form class="form-inline" name="KinshipItem" id="KinshipItem">
                    <div class="form-group">
                        <label >关系</label>
                        <select name="relationship" class="form-control">
                            @for(item in constant.getDictsByName('亲属关系')){
                            <option value="${item.num}" >${item.name}</option>
                            @}
                        </select>
                    </div>
                    <div class="form-group">
                        <label>姓名</label>
                        <input class="form-control" type="text" name="name" >
                    </div>
                    <div class="form-group">
                        <label>出生年月</label>
                        <input class="form-control" type="text" name="birthday" >
                    </div>
                    <div class="form-group">
                        <label>年龄</label>
                        <input class="form-control" type="text" name="age" >
                    </div>
                    <div class="form-group">
                        <label >政治面貌</label>
                        <select name="politicsStatus" class="form-control">
                            @for(item in constant.getDictsByName('政治面貌')){
                            <option value="${item.num}" >${item.name}</option>
                            @}
                        </select>
                    </div>
                    <div class="form-group">
                        <label>工作单位及职务</label>
                        <input class="form-control" type="text" name="company" >
                    </div>
                    <div class="form-group">
                        <#button btnCss="danger" name="删除" id="cancel" icon="fa-remove" clickFun="KinshipInfoDlg.deleteItem(event)"/>
                    </div>
                </form>
            </script>

        </div>

    </div>
</div>
<script src="${ctxPath}/static/modular/user/Kinship/Kinship_info.js"></script>
@}
